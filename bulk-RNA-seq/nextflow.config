params {
  samplesheet   = "data/samplesheet.csv"
  star_index    = "ref/star_index"
  gtf           = "ref/genes.gtf"
  outdir        = "results"
  strandedness  = 0        // 0: unstranded, 1: stranded, 2: reverse
  threads       = 8
}

process {
  cpus = params.threads
  memory = '16 GB'
  errorStrategy = 'terminate'
  withName:STAR_ALIGN { memory = '32 GB' }   // STAR likes RAM
}

profiles {
  conda {
    conda.enabled = true
  }
  docker {
    docker.enabled = true
  }
}

conda {
  enabled = true
  autoActivate = true
  cacheDir = "$projectDir/.conda_cache"
}

process.conda = """
  channels:
    - conda-forge
    - bioconda
    - defaults
  dependencies:
    - star=2.7.*
    - subread=2.*
    - r-base=4.3.*
    - bioconductor-edger
    - bioconductor-limma
    - r-optparse
    - r-ggplot2
"""

